webpackJsonp([54],{0:function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}var e=c(1),f=d(e),g=c(366),h=d(g);f.default(".ttdl-form").each(function(){new h.default(f.default(this))})},366:function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0});var f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),g=c(1),h=d(g),i=c(4),j=d(i),k=function(){function a(b){var c=this;e(this,a),this.$el=b,this.$ttdlCountryCodeSelect=this.$el.find(".ttdl-select"),this.$ttdlPhoneNumInput=this.$el.find(".ttdl-input"),this.$el.on("submit",function(a){c.handleSubmit(a)}),this.$ttdlCountryCodeSelect.on("change",function(a){c.handleSelectChange(a)})}return f(a,[{key:"toggleLoader",value:function(a){this.$el.find("input[type='submit']").prop("disabled",a),this.$el.find(".submit-wrapper").toggleClass("button--loading",a)}},{key:"success",value:function(){this.toggleLoader(!1),this.$el.find(".ttdl-to-phone-number").text("+"+this.countryCode+this.phoneNum),this.$el.find(".ttdl-inputs").hide(),this.$el.find(".ttdl-disclaimer").hide(),this.$el.find(".ttdl-success").show()}},{key:"error",value:function(){this.toggleLoader(!1),this.$el.find(".ttdl-error").show()}},{key:"isValidNumber",value:function(a){return a.match(/[^\d( ).-]/g)||a.replace(/\D/g,"").length>15?!1:!0}},{key:"parseNumber",value:function(a){return a.replace(/\D/g,"")}},{key:"handleSelectChange",value:function(){var a=this.$ttdlCountryCodeSelect.find(".ttdl-preview"),b=this.$ttdlCountryCodeSelect.prop("selectedIndex"),c=this.$ttdlCountryCodeSelect.find("option").eq(b);this.$ttdlPhoneNumInput.attr("placeholder",h.default(c).data("placeholder")),a.data("region",h.default(c).data("region")),a.val(this.$ttdlCountryCodeSelect.val()),a.text("+"+this.$ttdlCountryCodeSelect.val()),a.prop("selected",!0)}},{key:"handleSubmit",value:function(a){var b=this;a.preventDefault();{var c="/ttdl",d=this.$ttdlCountryCodeSelect.val(),e=this.$ttdlPhoneNumInput.val();this.$ttdlPhoneNumInput.attr("placeholder")}if(!this.isValidNumber(e))return void this.error();this.countryCode=d,this.phoneNum=this.parseNumber(e);var f={country_code:this.countryCode,to_phone_num:this.phoneNum};this.toggleLoader(!0),this.$el.find(".ttdl-error").hide(),j.default.PublicApi().post(c,f).done(function(){b.success()}).fail(function(){b.error()})}}]),a}();b.default=k,a.exports=b["default"]}});
//# sourceMappingURL=textToDownload.map